<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Instant Photo Editor</title>
    <style>
      #photoCanvas {
        border: 1px solid #ccc;
        margin-bottom: 10px;
      }
      .controls {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
    </style>
  </head>
  <body>
    <h1>Instant Photo Editor</h1>

    <input type="file" id="upload" accept="image/*" /><br /><br />
    <canvas id="photoCanvas"></canvas>

    <div class="controls">
      <label for="saturation"
        >Saturation: <span id="saturationValue">100</span>%</label
      >
      <input type="range" id="saturation" min="0" max="200" value="100" />

      <label for="sharpness"
        >Sharpness: <span id="sharpnessValue">0</span></label
      >
      <input type="range" id="sharpness" min="0" max="100" value="0" />

      <label for="redeye"
        >Red-Eye Reduction: <span id="redeyeValue">0</span></label
      >
      <input type="range" id="redeye" min="0" max="100" value="0" />

      <label for="colorBalance"
        >Color Balance: <span id="colorBalanceValue">0</span></label
      >
      <input type="range" id="colorBalance" min="-100" max="100" value="0" />
    </div>

    <button onclick="downloadImage()">Download Edited Image</button>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const upload = document.getElementById("upload");
        const photoCanvas = document.getElementById("photoCanvas");
        const ctx = photoCanva
        const saturation = document.getElementById("saturation");
        const sharpness = document.getElementById("sharpness");
        const redeye = document.getElementById("redeye");
        const colorBalance = document.getElementById("colorBalance");
s.getContext("2d");

        let image = new Image();

        upload.addEventListener("change", (e) => {
          const file = e.target.files[0];
          const reader = new FileReader();

          reader.onload = (event) => {
            image.src = event.target.result;
          };
          reader.readAsDataURL(file);
        });

        image.onload = () => {
          photoCanvas.width = image.width;
          photoCanvas.height = image.height;
          applyFilters();
        };

        const applyFilters = () => {
          ctx.clearRect(0, 0, photoCanvas.width, photoCanvas.height);
          ctx.filter = `
            saturate(${saturation.value}%)
            brightness(${100 + parseInt(sharpness.value)}%)
            contrast(${100 + parseInt(colorBalance.value)}%)
        `;
          ctx.drawImage(image, 0, 0);

          // Apply Red-Eye Reduction (simulated by decreasing red channel intensity)
          if (parseInt(redeye.value) > 0) {
            const imageData = ctx.getImageData(
              0,
              0,
              photoCanvas.width,
              photoCanvas.height
            );
            const data = imageData.data;
            for (let i = 0; i < data.length; i += 4) {
              data[i] = data[i] - parseInt(redeye.value); // Red channel
            }
            ctx.putImageData(imageData, 0, 0);
          }

          updateLabels();
        };

        const updateLabels = () => {
          document.getElementById("saturationValue").textContent =
            saturation.value;
          document.getElementById("sharpnessValue").textContent =
            sharpness.value;
          document.getElementById("redeyeValue").textContent = redeye.value;
          document.getElementById("colorBalanceValue").textContent =
            colorBalance.value;
        };

        saturation.addEventListener("input", applyFilters);
        sharpness.addEventListener("input", applyFilters);
        redeye.addEventListener("input", applyFilters);
        colorBalance.addEventListener("input", applyFilters);
      });

      function downloadImage() {
        const link = document.createElement("a");
        link.download = "edited-photo.png";
        link.href = document.getElementById("photoCanvas").toDataURL();
        link.click();
      }
    </script>
  </body>
</html>
